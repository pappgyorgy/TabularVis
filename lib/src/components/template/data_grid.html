<style  is="custom-style">

    :root{
        --primary-color: #0E1F2B;
        --dark-theme-text-color: white;
        --primary-text-color: white;
    }

    #table_container{
        overflow: hidden;
    }

    #grid{
        height: 100%;
    }

    #table-placeholder{
        position: relative;
        height: 100%;
    }

    #table_container{
        height: 100%;
    }

    #table-editor-placeholder{
        right: 20px;
        position: absolute;
        width: 711px;
        height: 55px;
        border-radius: 3px;
        top: -64px;
        -webkit-transition: top 1s; /* Safari */
        transition: top 1s;
        z-index: 5;
        background-color: var(--primary-color);
    }

    #table-editor-button-container{
        margin-top: 5px;
    }

    .button-container-line{
        height: 60px;
    }

    .editor-button-container{
        margin-top: 5px;
        /*margin-right: 10px;*/
    }

    .editor-button-container > paper-button > iron-icon{
        margin-right: 3px;
    }

    .table-editor-button{
        height: 48px;
        color: white;
        margin-left: 12px;
    }

    .close{
        color: white;
        /* top: -2px; */
        float: right;
        /* right: -174px; */
        position: relative;
        padding: 0;
        height: 24px;
        width: 24px;
        border-radius: 3px;
    }

    .editor-input{
        width: 41px;
        text-align: center;
        margin-top: -22px;
    }

    .not-visible{
        position: absolute;
        top: 0;
        left: 0;
        visibility: hidden;
    }

    paper-icon-button{
        color: white;
    }

    hr{
        width: 130%;
        display: block;
        height: 2px;
        border: 0;
        left: -15%;
        position: relative;
        border-top: 2px solid #03a9f4;
    }

    #table_interaction_button_container{
        padding-top: 5px;
        min-height: 600px;
    }

    .icon-group-text{
        text-align: center;
        color: white;
    }

    /*#handle_table{
        background-color:  #0E1F2B;
        color: white;

        margin: 0;
    }

    #drop_zone{
        color: white;
        background-color: rgba(255,255,255,0.2);
        border: 2px dashed white;
        position: relative;
        display: block;
        height: 190px;
        box-shadow: 0px 0px 0px 5px rgba(255,255,255,0.2);
        margin: 5px 5px;
        line-height: 190px;
        text-align: center;
    }

    #drop_zone > span{
        display: inline-block;
        vertical-align: middle;
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        line-height: normal;
        text-transform: uppercase;
    }*/


    /*.inner-height{
        height: 230px;
    }*/

    #upload_container{
        height: 100%;
    }

    .dialog-container{
        position: relative;
        margin: 5px;
    }

    #dialog-main{
        height: 70%;
    }

    #drop_zone_container{
        height: 100%;
    }

    #dialog_container{
        min-width: 550px;
        margin: 0;
        padding: 10px;
    }

    #close_dialog{
        float: right;
    }

    .text-center{
        text-align: center;
    }

    .full-width{
        width: 100%;
    }

    #centered_text{
        text-align: center;
        width: 100%;
        height: 10%;
        padding: 5px 0;
    }

    #min_value_input{
        margin: 0 5px 0 0;
    }

    #max_value_input{
        margin: 0 0 0 5px;
    }

    .inputfile {
        width: 0.1px;
        height: 0.1px;
        opacity: 0;
        overflow: hidden;
        position: absolute;
        z-index: -1;
    }

    .inputfile + label > paper-button {
        width: 100%;
    }

</style>

<material-drawer persistent #tableMainDrawer="drawer" [visible]="drawerVisibility" class="main-sidebar">
    <div id="tableDrawerButtonCont" *deferredContent>

        <material-button icon class="sideBarButton" (click)="visualizeTable()">
            <material-icon class="sideBarIcon" icon="check"></material-icon>
        </material-button>
        <material-button icon class="sideBarButton" (click)="downloadTable()">
            <material-icon class="sideBarIcon" icon="file_download"></material-icon>
        </material-button>

        <material-button icon class="sideBarButton" (trigger)="showHandleTableDialog = !showHandleTableDialog">
            <img src="images/icons/table-edit_48.png"/>
        </material-button>
        <material-button icon class="sideBarButton" (click)="insertRow()">
            <img src="images/icons/table-row-plus-before_48.png"/>
        </material-button>
        <material-button icon class="sideBarButton" (click)="insertCol()">
            <img src="images/icons/table-column-plus-before_48.png"/>
        </material-button>
        <material-button icon class="sideBarButton" (click)="removeRow()">
            <img src="images/icons/table-row-remove_48.png"/>
        </material-button>
        <material-button icon class="sideBarButton" (click)="removeCol()">
            <img src="images/icons/table-column-remove_48.png"/>
        </material-button>

        <material-button icon class="sideBarButton" (click)="setRandomValues()">
            <material-icon class="sideBarIcon" icon="shuffle"></material-icon>
        </material-button>
        <material-button icon class="sideBarButton" (click)="clearTableValues()">
            <material-icon class="sideBarIcon" icon="delete_forever"></material-icon>
        </material-button>

        <!--<section *ngIf="showBlockSettings">
            <hr class="sidebarWidth"/>
            <color-input [iconButton]="true" label="Color" class="sidebarColorPicker" labelLayout="vertical" labelPosition="start" (colorChange)="changeBlockColours($event)"></color-input>
            <div class="spaceBetween"></div>
            <div class="icon-group-text">Group</div>
            <div class="icon-group-text">No.</div>
            <input-slider class="sidebarWidth" [centered]="true" inputButtonLayout="vertical-around" [value]="selectedGroupNumber" [minValue]="0" (inputValueChange)="selectedGroupNumberChange($event)"></input-slider>
            <div class="icon-group-text">Group</div>
            <div class="icon-group-text">Name</div>
            <material-input></material-input>
        </section>!-->

    </div>
</material-drawer>



<material-content class="main-sidebar-content fit-content" [ngClass]="{matDrawerCollapsed: !tableMainDrawer.visible}">

    <header class="material-header shadow">
        <div class="material-header-row">
            <color-input [disabled]="!showBlockSettings" label="Color" class="sidebarColorPicker" (colorChange)="changeBlockColours($event)"></color-input>
            <input-slider [inputElementDisabled]="!showBlockSettings" id="table-editor-group-no" label="Group No." [value]="selectedGroupNumber" [minValue]="1" [maxValue]="1000" (inputValueChange)="selectedGroupNumberChange($event)"></input-slider>
            <material-input [disabled]="!showBlockSettings" id="table-editor-group-name" floatingLabel label="Name" type="text" [(ngModel)]="selectedGroupName" (inputKeyPress)="selectedGroupNameChange($event)"></material-input>
            <span class="margin-around">Unique scaling</span>
            <material-toggle class="toggles" [(checked)]="uniqueScale" [disabled]="!showBlockSettings" (click)="selectedBlockUniqueScaleChange($event)"></material-toggle>
            <span class="margin-around">Merge blocks in same group</span>
            <material-toggle class="toggles" [(checked)]="mergeBlockInGroup" (click)="mergeBlocksInGroupSelectedChange($event)"></material-toggle>
        </div>
    </header>

    <div id="table-editor-container">
        <div id="table-placeholder">
            <div id="table_container">

            </div>
        </div>
    </div>
</material-content>

<modal [visible]="showHandleTableDialog">
    <material-dialog id="handle_table" class="basic-dialog" hideFooter>

        <div id="dialog_container" class="horizontal-layout positioned-to-right" header>
            <div class="paper-dialog-buttons">
                <material-button class="close" icon (trigger)="showHandleTableDialog = false">
                    <material-icon icon="close"></material-icon>
                </material-button>
            </div>
        </div>

        <div id="dialog-main" class="flex">
            <div id="upload_container" class="flex dialog-part">
                <div class="vertical-layout full-width">
                    <div #dropZoneDiv id="drop_zone"><span>Drag file here</span></div>
                    <div id="centered_text">Or</div>
                    <input #fileInput id="file" type="file" class="inputfile" (change)="onFileInputChange($event)">
                    <label for="file">
                        <material-button id="chooseFile" clear-size raised>Choose one</material-button>
                    </label>
                </div>
            </div>

            <div id="create_new_table" class="flex dialog-part">
                <div class="vertical-layout">

                    <div>
                        <input-slider label="Number of rows" [value]="tableRow" [minValue]="2" [maxValue]="1000" (inputValueChange)="tableRowChange($event)"></input-slider>
                    </div>

                    <div>
                        <input-slider label="Number of columns" [value]="tableCol" [minValue]="2" [maxValue]="1000" (inputValueChange)="tableColChange($event)"></input-slider>
                    </div>

                    <div class="horizontal-layout space-between">
                        <span class="flex text-before-toggle-button">Random numbers</span><material-toggle class="toggles" [(checked)]="randomValuesEnabled"></material-toggle>
                    </div>
                    <div class="horizontal-layout space-between">
                        <span class="flex text-before-toggle-button">Random zeroes</span><material-toggle class="toggles" id="random_zeroes" [disabled]="!randomValuesEnabled" [(checked)]="useRandomZeroesValue"></material-toggle>
                    </div>
                    <div class="horizontal-layout">
                        <div id="min_value_input" class="flex">
                            <material-input class="initial-width" floatingLabel  label="Minimum value" id="min_value" [(ngModel)]="minValue" (inputValueChange)="minValueChange($event)" type="number" [lowerBound]="0" [disabled]="!randomValuesEnabled"></material-input>
                        </div>
                        <div id="max_value_input" class="flex">
                            <material-input class="initial-width" floatingLabel  label="Maximum value" id="max_value" [(ngModel)]="maxValue" (inputValueChange)="maxValueChange($event)" type="number" [lowerBound]="0" [disabled]="!randomValuesEnabled"></material-input>
                        </div>
                    </div>
                    <material-button raised clear-size (click)="createNewTable($event)">
                        Create new table
                    </material-button>
                </div>
            </div>
        </div>
    </material-dialog>
</modal>

